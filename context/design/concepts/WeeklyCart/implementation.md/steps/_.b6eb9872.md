---
timestamp: 'Fri Oct 24 2025 08:47:11 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251024_084711.826089dc.md]]'
content_id: b6eb987250bfa913a9df3303aea58f218415f113849bc9f1e0a8de6bb24a59c5
---

# Error handling

Only throw errors when they are truly exceptional. Otherwise, all normal errors should be caught, and instead return a record `{error: "the error message"}` to allow proper future synchronization with useful errors.

When handling errors in `try-catch` blocks, TypeScript's default type for the caught error `e` is `unknown`. This means you cannot directly access properties like `e.message` without first narrowing its type. Failing to do so will result in a TypeScript error (`'e' is of type 'unknown'.deno-ts(18046)`).

To ensure robust and consistent error messages are returned in your `Result<T>` objects, always safely extract the error message by checking if `e` is an instance of `Error`, and if not, convert it to a string. This pattern ensures you always get a valid string for your error output, aligning with the requirement to return `{error: "the error message"}` for normal errors.

**Recommended Pattern:**

```typescript
try {
  // ... asynchronous operation that might throw ...
  // Example: await this.recipes.insertOne(newRecipe);
} catch (e: unknown) {
  // Safely extract the error message
  const errorMessage = e instanceof Error ? e.message : String(e);
  
  // Log the detailed error for debugging purposes
  console.error(`An operation failed: ${errorMessage}`);
  
  // Return a standardized error object
  return { error: `Operation failed: ${errorMessage}` };
}
```
