---
timestamp: 'Wed Oct 15 2025 09:19:06 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251015_091906.60c633a7.md]]'
content_id: 77fef8b769b18921c613696de08243cd0d49bd9f91e89005a79a4f14e48b2110
---

# Test implementation

While testing, use the `testDb` function, which returns a tuple of the database and client so that you can close it.

```typescript
import { testDb } from "@utils/database.ts";

Deno.test("...", async () => {
  const [db, client] = await testDb();

  // ... tests

  await client.close();
});
```

The database is already automatically dropped before every test file using the `Deno.test.beforeAll` hook: do not include any additional manipulation of the database for this purpose.

Use the Deno.test framework, splitting by appropriate test steps and describing each behavior. Import helpers from:

```typescript
import { assertEquals } from "jsr:@std/assert"; // or any other utility from the library
```

All of the tests are working appropriately, we just need to have legible test execution printed out to the console. For the concept please output:

1. Each Deno Test Case
2. Indented Each step of the test case
3. Indented each check of each step
4. Include green check or red X for success or failure
5. Keep it succinct but understandable
6. Format prints to be easily viewed when pasted into markdown file.
7. Use a helper function for assertsEquals to simplify.
