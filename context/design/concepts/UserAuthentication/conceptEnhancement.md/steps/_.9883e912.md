---
timestamp: 'Wed Oct 15 2025 06:51:29 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251015_065129.1a991e3c.md]]'
content_id: 9883e912fa85e69cca462b0c9550c262de8a585dcc247b3131cddf9d8984f2db
---

# UserAuthentication

**concept** UserAuthentication

**purpose** limit User access to particular subset of resources

**principle** a person is *registered* as a User with a username and password, afterwards that person can *authenticate* as their registered user and view the resources they have access to. If that person was the first user to register then they automatically are the admin, and have access to all resources. *Administrators can manage other users, including granting or revoking administrative privileges and deleting users, provided a minimum number of administrators are maintained.*

**state**\
    a set of Users with\
        a username String\
        a password String\
        an admin flag Bool\\

**actions**\
    register (username: String, password: String): (user: User)\
            **requires** no User exists where `username` matches input `username`\
            **effects** creates new User `u` with `u.username` set to input `username`, `u.password` set to input `password`, and `u.admin` set to `(count(Users) == 0)` before this action; returns `u`.

    authenticate (username: String, password: String): (user: User)\
            **requires** User exists with that `username` and `password`\
            **effects** returns the authenticated `User`.

    deleteUser (userToDelete: User)\
            **requires**\
                `userToDelete` is in `Users`\
                and (not `userToDelete.admin` or (count(u in Users where `u.admin` is true) > 1))\
            **effects** removes `userToDelete` from `Users`

    grantAdmin (targetUser: User, caller: User)\
            **requires**\
                `targetUser` is in `Users`\
                and `caller` is in `Users`\
                and `caller.admin` is true\
            **effects** sets `targetUser.admin` to true

**queries**
    \_getIsUserAdmin (user: User): (isAdmin: Bool)\
        **requires** `user` is in `Users`\
        **effects** returns `user.admin`

    \_getListOfUsers (): (users: set of User)\
        **requires** true\
        **effects** returns the set of all `Users`

    \_getNumberOfAdmins (): (count: Number)\
        **requires** true\
        **effects** returns count(u in Users where `u.admin` is true)
